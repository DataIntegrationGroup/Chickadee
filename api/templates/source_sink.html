{% extends "base.html" %}
{% block head %}
{{ super() }}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.9/beautify.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/go.min.js"></script>-->
<script>hljs.highlightAll();</script>

<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>


<style>
    #mytable td, #mytable th {
        border: 1px solid #984848;
        padding: 8px;
    }

    #mytable tr:nth-child(even){background-color: #f2f2f2;}

    #mytable tr:hover {background-color: #ddd;}

    #mytable th {
        padding-top: 12px;
        padding-bottom: 12px;
        text-align: left;
        background-color: #04AA6D;
        color: white;
    }
</style>

{% endblock %}

{% block content %}

    <form>
        <input type="text" name="age" placeholder={{ age }} value={{ age }}>
        <input type="text" name="kca" placeholder={{ kca }} value={{ kca }}>
        <input type="submit" value="Submit">
    </form>

    {% if match %}
        <div class="row">
            <div class="col-6">
                <h2>Match</h2>
                <table id="mytable">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Matched Sample</th>
                        </tr>
                    </thead>
                    <tr>
                        <td>Mean Closest </td>
                        <td>{{ match.mean_closest.name }}</td>
                    </tr>
                    <tr>
                        <td>SVM</td>
                        <td>{{ match.source.name }}</td>
                    </tr>
                </table>

            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <pre>
                    <code id="matchcontent" class="language-json"></code>
                </pre>
            </div>
            <div class="col-6">
                <div id="chart"></div>
                <div id="chart_decision_function"></div>
            </div>

        </div>



        <script>
            document.getElementById("matchcontent").innerHTML = js_beautify(JSON.stringify({{ match|tojson }} ));
            Plotly.plot('chart', {{ graphJSON | safe }}, {});
            Plotly.plot('chart_decision_function', {{ graphJSON_decision_function | safe }}, {});

        </script>

    {% endif %}


{% endblock %}

{% block footer %}
{% endblock %}